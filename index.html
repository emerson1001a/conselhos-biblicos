<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Conselhos Bíblicos</title>
  <style>
    body{margin:0;background:#0f172a;color:#e5e7eb;font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu}
    .wrap{max-width:680px;margin:0 auto;padding:16px}
    header{text-align:center;margin-bottom:12px}
    .logo{width:52px;height:52px;margin:0 auto 10px;border-radius:14px;background:conic-gradient(from 180deg,#22d3ee,#a78bfa,#34d399,#22d3ee);box-shadow:0 0 20px #22d3ee66}
    h1{font-size:24px;margin:0}
    .card{background:#111827dd;border-radius:16px;padding:16px;margin-top:16px}
    textarea{width:100%;min-height:90px;background:#0b1324;border:1px solid #1e293b;color:#e5e7eb;border-radius:12px;padding:12px;font-size:15px}
    .actions,.inline-actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
    button{flex:1;background:#1f2937;border:1px solid #1f8e9c;color:#fff;padding:12px;border-radius:12px;font-weight:600;cursor:pointer;font-size:15px}
    button.primary{background:#2d3748}
    .verse{font-size:18px;line-height:1.4}
    .ref{opacity:.9;margin-top:6px;font-size:14px}
    .tags{margin-top:8px;font-size:12px;color:#cbd5e1}
    .prayer{background:#0b1324;border:1px solid #1e293b;border-radius:12px;padding:10px;font-size:14px;line-height:1.4;margin-top:8px}
    .result{display:none;margin-top:16px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo"></div>
      <h1>Conselhos Bíblicos</h1>
      <p style="font-size:14px;color:#9ca3af">Escreva sua situação e receba passagens bíblicas com oração.</p>
    </header>

    <section class="card">
      <textarea id="input" placeholder="Ex.: Estou ansioso, doente, de luto, quero rezar..."></textarea>
      <div class="actions">
        <button onclick="compute()" class="primary">Encontrar passagem</button>
        <button onclick="randomVerse()">Surpreenda-me</button>
        <button onclick="clearInput()">Limpar</button>
      </div>
      <p style="font-size:13px;color:#9ca3af">Temas: ansiedade, medo, luto, suicídio, pecado, sofrimento, graça, rezar, esperança, fé, família, etc.</p>
    </section>

    <section id="result" class="card result">
      <div class="verse" id="verse"></div>
      <div class="ref" id="ref"></div>
      <div class="tags" id="tags"></div>
      <div class="prayer" id="devocional"></div>
      <div class="prayer"><strong>Oração:</strong> <span id="oracao"></span></div>
      <div class="inline-actions">
        <button onclick="nextSameTheme()">Próximo Conselho</button>
        <button onclick="copyVerse()">Copiar</button>
        <button onclick="shareVerse()">Compartilhar</button>
      </div>
    </section>
  </div>

  <!-- ÁUDIO PARA O TEMA SUICÍDIO -->
  <audio id="audioSuicidio" src="suicidio.m4a" preload="auto"></audio>

<script>
// === SINÔNIMOS ===
const TOPIC_KEYS = [
  {topic:'ansiedade',keys:['ansiedade','preocupado','preocupação','aflição']},
  {topic:'medo',keys:['medo','temor','assustado','pavor']},
  {topic:'luto',keys:['luto','morte','falecimento','perda']},
  {topic:'suicidio',keys:['suicídio','suicidio','suicidou','tirou a vida']},
  {topic:'desejo-suicidio',keys:['me matar','tirar a vida','não quero viver','suicidar']},
  {topic:'pecado',keys:['pecado','erro','falha','culpa']},
  {topic:'sofrimento',keys:['sofrimento','dor','provação','tribulação']},
  {topic:'angustia',keys:['angústia','angustiado','aflição','aperto no coração']},
  {topic:'graca',keys:['graça','favor','misericórdia']},
  {topic:'rezar',keys:['rezar','oração','pedir','súplica','graça','anjo','santa']},
  {topic:'esperanca',keys:['esperança','confiança','futuro']},
  {topic:'fe',keys:['fé','crença','acreditar']},
  {topic:'cura',keys:['cura','doença','enfermidade','saúde','adoentado']},
  {topic:'familia',keys:['família','casa','lar','filhos','casamento']},
  {topic:'solidao',keys:['solidão','sozinho','abandono','isolado']},
  {topic:'tristeza',keys:['tristeza','triste','abatido','desânimo','chorar']},
  {topic:'alegria',keys:['alegria','feliz','contentamento','gozo']},
  {topic:'amor',keys:['amor','amar','carinho','afetos','paixão']}
];

// === LISTA DE VERSÍCULOS ===
const VERSES = [ /* ... (mesmo conteúdo que o seu atual) ... */ ];

// === VARIÁVEIS ===
let currentList=[], idx=0;

// === FUNÇÃO DE ÁUDIO ===
function playAudioIfNeeded(topic){
  const audio=document.getElementById('audioSuicidio');
  if(topic==='suicidio' || topic==='desejo-suicidio'){
    audio.currentTime=0;
    audio.play().catch(()=>{}); // evita erro em autoplay bloqueado
  }else{
    audio.pause();
    audio.currentTime=0;
  }
}

// === FUNÇÕES DE RENDERIZAÇÃO ===
function renderCurrent(){
  if(!currentList.length){document.getElementById('result').style.display='none';return;}
  const item=currentList[idx % currentList.length];
  document.getElementById('verse').textContent='“'+item.text+'”';
  document.getElementById('ref').textContent=item.ref+' • tema: '+item.topic;
  document.getElementById('tags').textContent='#'+item.topic;
  document.getElementById('devocional').textContent=item.note;
  document.getElementById('oracao').textContent=item.prayer;
  document.getElementById('result').style.display='block';
  playAudioIfNeeded(item.topic);
}

// === LÓGICA PRINCIPAL ===
function findTopic(input){
  input=input.toLowerCase();
  for(const t of TOPIC_KEYS){
    if(t.keys.some(k=>input.includes(k))) return t.topic;
  }
  return null;
}

function compute(){
  const input=document.getElementById('input').value.toLowerCase();
  const foundTopic=findTopic(input);
  if(foundTopic){
    currentList=VERSES.filter(v=>v.topic===foundTopic);
  }else{
    currentList=[VERSES[Math.floor(Math.random()*VERSES.length)]];
  }
  idx=0;renderCurrent();
}

function randomVerse(){currentList=[VERSES[Math.floor(Math.random()*VERSES.length)]];idx=0;renderCurrent();}
function clearInput(){document.getElementById('input').value='';document.getElementById('result').style.display='none';}
function nextSameTheme(){idx++;if(idx>=currentList.length) idx=0;renderCurrent();}
function copyVerse(){if(!currentList.length)return;const i=currentList[idx];navigator.clipboard.writeText(`${i.ref}\n${i.text}\nComentário: ${i.note}\nOração: ${i.prayer}`).then(()=>alert("Copiado!"));}
function shareVerse(){
  if(!currentList.length)return;
  const i=currentList[idx];
  const text=`${i.ref}\n${i.text}\nComentário: ${i.note}\nOração: ${i.prayer}`;
  if(navigator.share){navigator.share({title:'Conselho Bíblico',text});}
  else{navigator.clipboard.writeText(text).then(()=>alert("Copiado para compartilhar!"));}
}
</script>
</body>
</html>


